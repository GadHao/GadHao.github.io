---
layout: page
title: 每日学习笔记
permalink: /notebook/
---

> 每日的学习笔记，主要用来发布前一天学习的所有理论知识，即每天早上8点30之后可以随时在这里看到之前的一天学习的内容有哪些，也可以看[提交记录](https://github.com/GadHao/gadhao.github.io/commits/master)追溯之前提交过的内容

## 总结[2020.09.14]

## 《深入了解计算机系统》的学习(Page17- Page22)

> 在准备这周六的知识分享内容，需要准备的较多，放缓了计算机系统的学习速度

#### 并发和并行

如果处理器能够同时做更多的事情，可想而知，计算机就可以运行做更多的事情，并且能做更多的事情。**并发(concurrency)**指一个同时具有多个活动的系统，**并行(parallelism)**则指的是用并发来使一个系统运行更快。并行可以在计算机的多个层次上使用。

1. 线程级并发

   在单处理器系统中，并发只是模拟出来的，是通过一台计算机在正在执行的进程间快速切换来实现的，称之为时间共享。随着多核处理器和超线程(hyperthreading)的出现，这种系统才变得常见

   ![](/assets/img/CSAPP-18.JPG)

   多核处理器是将多个CPU(称为"核")集成到一个集成电路芯片上

   ![](/assets/img/CSAPP-19.JPG)

   

   比如上面的微处理器芯片有4个核，每个核都有自己的L1和L2高速缓存，其中L1高速缓存分两部分：一个保存最近取到的指令，另一个存放数据。这些核共享更高层次的高速缓存，以及到主存的接口。工业界专家认为它们最后能把几十个甚至上百个核做到一个芯片上。

   超线程，有时被称为同时多线程(simultaneous multi-threading)，是一项允许一个CPU执行多个控制流的技术。在应用了超线程技术的CPU中，某些硬件，比如程序计数器和寄存器文件有多个备份，其他硬件部分只有一份。常规的处理器需要大约20,000个时钟周i做线程间的转换，而超线程的处理器在单个周期的基础上可以决定要执行哪一个线程。比如，假设一个线程必须等到某些数据被装载到高速缓存中，那CPU就可以继续去执行另一个线程。比如Intel Core i7处理器可以让每个核执行两个线程，所以一个4核的系统实际上可以并行地执行8个线程

   当程序是以多线程方式来书写的时候，多处理器的使用可以加快程序的运行，因为多个线程可以并行地高效执行。所以虽然并发原理的形成和研究已经超过50年的时间了，但是多核和超线程系统的出现，才激发了利用硬件开发线程级并行程序的应用程序的愿望。

2. 指令级并行

   在较低的抽象层次，现代处理器可以同时同时执行多条指令的属性称为*指令级并行*。现代处理器使用了很多聪明的技巧来同时处理多达100条指令。在书中之后的内容中，会讨论流水线(pipelining)的使用，它通过将执行一条指令需要的活动划分为不同的步骤，让处理器对指令的处理分为多个阶段，并行进行操作。

   如果处理器可以达到比一个周期一条指令更快的执行速率，就称之为*超标量(superscalar)*处理器。大多数现代处理器都支持超标量操作。

3. 单指令、多数据并行

   在最低层次上，许多现代处理器有特殊的硬件，允许一条指令产生多个可以并行执行的操作，这种方式被称为单指令、多数据，即SIMD并行。大多数时候提供这些SIMD指令多是为了提高处理影像、声音和视频数据应用的执行速度。

#### 计算机系统中抽象的重要性

抽象是计算机科学中最为重要的概念之一，比如为一组函数规定一个简单的应用接口(API)，程序员可以忽略它内部的工作便可以使用这些代码。对于计算机系统来说，底层的硬件远比抽象描述要复杂精细，在本章我们旋风式地对这些知识进行了了解，在后续的章节，会具体介绍这些抽象

![](/assets/img/CSAPP-20.JPG)

### 小结

计算机系统由硬件和系统软件组成，它们共同协作以运行应用程序。计算机内部的信息被表示为一组组的位，它们根据上下文有不同的解释方式。程序被其他程序翻译成不同的形式，先到ASCII文本，然后被编译器翻译成二进制可执行文件。

处理器读取并解释主存里的二进制指令。应为计算机花费了大量的时间在内存、I/O设备和CPU寄存器之间复制数据，所以将系统中的存储设备分成层次结构，顶部是CPU寄存器，接着是多层的硬件高速缓存存储器、DRAM主存和磁盘存储器。位于更高层次的存储设备比底层存储设备要快，单位比总造价更高。层次结构中较高层次的存储设备可以作为较低层次设备的高速缓存。通过理解和运用这种存储层次结构的知识，程序员可以优化程序的性能。

操作系统内核是应用层序和硬件之间的媒介。它提供三个基本的抽象：

1. 文件是对I/O设备的抽象；
2. 虚拟内存是对主存和磁盘的抽象；
3. 进程是处理器、主存和I/O设备的抽象

最后，网络提供了计算机系统之间通信的手段，从特殊的角度来看，网络就是一种I/O设备